#!/bin/bash -
#===============================================================================
#
#          FILE: kill_powerline
#
#         USAGE: ./kill_powerline
#
#   DESCRIPTION: Script to be called via ssh to kill powerline, so you can leave
#                a machine and and kill the daemon remotely
#
#       OPTIONS: ---
#  REQUIREMENTS: ---
#          BUGS: ---
#         NOTES: ---
#        AUTHOR: @jessebot (jessebot@linux.com)
#       CREATED: 09/23/2022 11:16:08 AM
#      REVISION:  ---
#===============================================================================

set -o nounset                                  # Treat unset variables as an error

# show what we're about to do
process_to_kill=$(ps aux | grep powerline | head -n 1)
echo $process_to_kill > /tmp/killing_powerline_process_remotely.log

/home/linuxbrew/.linuxbrew/bin/rich --panel double --title "powerline process we will kill" /tmp/killing_powerline_process_remotely.log

kill $(ps aux | grep powerline | head -n 1 | awk '{print $2}')

ps aux | grep powerline
